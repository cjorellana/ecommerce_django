{% extends 'layout.html' %}
{% load static %}
{% block content %}
    <ul class="b-crumbs">
        <li><a href="/">Home</a></li>
        <li><a href="/">Catalogo</a></li>
        <li>Producto</li>
    </ul>
    <article>
    <div class="prod">
        <div class="prod-slider-wrap prod-slider-shown">
            <div class="flexslider prod-slider" id="prod-slider">
                <ul class="slides">
                    <li>
                        <a data-fancybox-group="prod" class="fancy-img" href="#">
                            {% if producto.imagen %}
                            <img src="{{ producto.imagen.url }}" alt="">
                            {% else %}
                                <img src="{% static 'img/250x250.svg' %}" alt="Producto sin imagen">
                            {% endif %}
                        </a>
                    </li>
                    <li>
                        <a data-fancybox-group="prod" class="fancy-img" href="#">
                            {% if producto.imagen %}
                                <img src="{{ producto.imagen.url }}" alt="">
                            {% else %}
                                <img src="{% static 'img/250x250.svg' %}" alt="Producto sin imagen">
                            {% endif %}
                        </a>
                    </li>
                </ul>
                <div class="prod-slider-count"><p>
                    <span class="count-cur">1</span> / <span class="count-all">2</span></p><p class="hover-label prod-slider-zoom">
                    <i class="icon ion-search"></i><span>Zoom In</span></p></div>
            </div>
            <div class="flexslider prod-thumbs" id="prod-thumbs">
                <ul class="slides">
                    <li>
                        <img src="{% static 'img/250x250.svg' %}" alt="Producto sin imagen">
                    </li>
                    <li>
                        <img src="{% static 'img/250x250.svg' %}" alt="Producto sin imagen">
                    </li>
                </ul>
            </div>
        </div>

        <div class="prod-cont">
            <div class="prod-rating-wrap">
                <p data-rating="4" class="prod-rating">
                    <i class="rating-ico" title="1"></i>
                    <i class="rating-ico" title="2"></i>
                    <i class="rating-ico" title="3"></i>
                    <i class="rating-ico" title="4"></i>
                    <i class="rating-ico" title="5"></i>
                </p>
                <p class="prod-rating-count">7</p>
            </div>
            <p class="prod-categs"><a href="#">Polos</a></p>
            <h1>{{ producto.nombre }}</h1>
            <div class="variations_form cart">
                <p class="prod-price">Q {{ producto.precio }}</p>
                <p class="prod-excerpt">{{ producto.descripcion }} 
                    <a id="prod-showdesc" class="prod-excerpt-more" href="#">read more</a></p>
                <div class="prod-add">
                    <form action="{% url 'web:add_cart' producto.id %}" method="post">
                        {% csrf_token %}
                        <div class="variations">
                            <div class="variations-row">
                                <div class="label"><label>Color</label></div>
                                <div class="value">
                                    <select name="color">
                                        <option value="">Selecciona una opci√≥n</option>
                                        <option value="blue">Azul</option>
                                        <option value="green">Verde</option>
                                        <option value="yellow">Amarillo</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="button"><i class="icon ion-android-cart"></i> Agregar al Carrito</button>
                        <p class="qnt-wrap prod-li-qnt">
                            <a href="#" class="qnt-plus prod-li-plus" onclick="incrementQuantity(event)"><i class="icon ion-arrow-up-b"></i></a>
                            <input type="text" name="cantidad" value="1" id="quantity-input">
                            <a href="#" class="qnt-minus prod-li-minus" onclick="decrementQuantity(event)"><i class="icon ion-arrow-down-b"></i></a>
                        </p>
                    </form>
                </div>
            </div>
            <div class="prod-props">
                <dl class="product_meta">
                    
                    
                </dl>
            </div>
        </div>
    </div>

    <script>
    function incrementQuantity(event) {
        event.preventDefault();
        var input = document.getElementById('quantity-input');
        input.value = parseInt(input.value) + 1 || 1;
    }

    function decrementQuantity(event) {
        event.preventDefault();
        var input = document.getElementById('quantity-input');
        input.value = Math.max(1, (parseInt(input.value) - 1 || 1));
    }
    </script>

</article>

{% endblock %}